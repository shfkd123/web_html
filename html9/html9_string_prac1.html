<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
		/*주민등록번호를 입력받아 생년월일과 성별을 출력한다.*/
		/*1.주민등록번호를 입력받는다. (prompt OR input)
		  2.생년월일 출력 "연도 : XXXX 월 : XX 일 : XX 성별 : X"
		  3.성별출력       
		  substring, substr를 사용하기 
		  split도 사용가능*/
		  		 		
		  function proc() {
			 var input = document.getElementById("jumin").value;
			 document.getElementById("spYear").innerHTML = year;
			 document.getElementById("spMonth").innerHTML = month;
			 document.getElementById("spDay").innerHTML = day;
			 document.getElementById("spGender").innerHTML = gender;
			 
			  var year = input.substr(0,2);
	          if(year.substr(0,1) == "1" || year.substr(0,1) == "2" ){
			  document.write("연도 : 20" + year + "<br>");        	  
	          }else{
	        	  document.write("연도 : 19" + year + "<br>");
	          }
			  var month = input.substr(2,2);
			  document.write("월 : " + month + "<br>");
			  
			  var day = input.substr(4,2);
			  document.write("일 : " + day + "<br>");
			  
			  var gender = input.substr(7,1);
			  if (gender == "1" || gender == "3") {
					gender = "남자";		
				}else
					gender = "여자";
			  document.write("성별 : " + gender + "<br>");
		}
	</script>
</head>
<body>
	주민등록번호 :
	<input type="text" id="jumin">
	<button type="button" onclick="proc()">확인</button>
	<hr>
	연도 :
	<span id="spYear"></span>
	<br> 월 :
	<span id="spMonth"></span>
	<br> 일 :
	<span id="spDay"></span>
	<br> 성별 :
	<span id="spGender"></span>
	<br>

	<hr>
	<hr>

	<h3>주민등록번호 유효성 검사</h3>
	주민등록번호 :
	<input type="text" id="jumin">
	<button type="button" onclick="proc3()">확인</button>

</body>
<script type="text/javascript">
	
	function proc2() {
		//입력유형 두가지 -있거나 -없거나 
		var input = document.getElementById("jumin").value;

		var sum1 = (input.substr(0, 1) * 2) + (input.substr(1, 1) * 3)
				+ (input.substr(2, 1) * 4) + (input.substr(3, 1) * 5)
				+ (input.substr(4, 1) * 6) + (input.substr(5, 1) * 7)
				+ (input.substr(7, 1) * 8) + (input.substr(8, 1) * 9)
				+ (input.substr(9, 1) * 2) + (input.substr(10, 1) * 3)
				+ (input.substr(11, 1) * 4) + (input.substr(12, 1) * 5);

		var sum2 = sum1 % 11;

		var sum3 = 11 - sum2;

		var sum4 = 0;

		if (sum3 == 10) {
			sum4 = 0;
		} else if (sum3 == 11) {
			sum4 = 1;
		} else if (0 < sum3 && sum3 < 9)
			sum4 = sum3;

		if (sum4 == input.substr(13, 1)) {
			alert("맞는 주민번호 입니다");
		} else {
			alert("틀린 주민번호 입니다");
		}
	}
</script>

<script type="text/javascript">
//선생님 풀이
function proc3() {
	var val = document.getElementById("jumin").value;
	//123456-1234567
	//1234561234567
	
	//val과 곱할 숫자
	val = val.replace("-", ""); //1234561234567 모양으로 변환
	var arr = [2,3,4,5,6,7,8,9,2,3,4,5];
	
	//val과 arr 곱하기 합계내기
	var sum = 0; //합계를 담을 변수
	for (var i = 0; i < 12; i++) {
		val.substr(i,1) * arr[i];
	
		sum += (val.substr(i,1) * arr[i]);
	}
	
	//2. 1번 합을 11로 나눈 나머지
	var tmp1 = sum % 11;
	//3. 11 -2번
	var tmp2 = 11 - tmp1;
	//4. 0~9이면 그대로, 10이면 0, 11이면 1로 변환
	var tmp3;
	if(tmp2 == 10){
		tmp3 = 0;
	}else if(tmp2 == 11){
		tmp3 = 1;
	}else {
		tmp3 = tmp2
	}
	
	//4번 결과와 M자리 값이 맞으면 맞음
	if(tmp == val.substr(12)){
		alert("정상입니다.");		
	}else{
		 alert("오류입니다.");
	}
	
	console.log("총합: " + sum );	
	return; 
}
</script>
<script type="text/javascript">
function gbb(){
	var arrGbb = ["가위", "바위", "보"]; // 0,1,2
	//Math.random()*3// 0~3 => 0~2.9999
	var comIdx = parseInt(Math.random()*3);
	var conGbb = arrGbb[comIdx];
	
	var userGbb
	= document.getElementById("gbb").value;
	var userIdx = arrGbb.indexOf(userGbb);
	
	//가위바위보 비교
	if(comIdx == userIdx) {
		alert("비겼습니다. \n컴퓨터 : " + comGbb
				+ "\n사용자 : " + userGbb);		
	} else if(comIdx < userIdx == 2){ //사용자가 이긴 경우
		alert("졌습니다. \n컴퓨터 : " + comGbb
				+ "\n사용자 : " + userGbb);
	} else { //사용자가 이긴 경우
		alert("이겼습니다. \n컴퓨터 : " + comGbb
				+ "\n사용자 : " + userGbb);		
	}else if(comIdx > userIdx){ //2,1 2,0 1,0
		if(comIdx == 2 && userIdx == 0){ //사용자가 이김
			alert("이겼습니다. \n컴퓨터 : " + comGbb
					+ "\n사용자 : " + userGbb);			
		}else { //컴퓨터가 이긴 경우
			alert("졌습니다. \n컴퓨터 : " + comGbb
					+ "\n사용자 : " + userGbb);		
		}
	}
	
}
</script>
</html>